Fisma.TabView.Roles=function(){return{init:function(b,a,c){YAHOO.util.Event.addListener("role","change",function(d){YAHOO.util.Dom.batch(YAHOO.util.Dom.getChildren("role"),function(j){var h=Fisma.tabView;var g=h.get("tabs");if(j.selected){var k=0;for(var f in g){if(g[f].get("id")==j.value){k=1;break}}if(!k){for(var f in b){if(b[f]["id"]==j.value){var e=$P.htmlspecialchars(b[f]["nickname"]);break}}var l=new YAHOO.widget.Tab({id:j.value,label:e,dataSrc:"/user/get-organization-subform/user/"+a+"/role/"+j.value+"/readOnly/"+c,cacheData:true,active:true});l.subscribe("dataLoadedChange",Fisma.prepareTab);h.addTab(l)}}else{for(var f in g){if(g[f].get("id")==j.value){h.removeTab(g[f])}}}})})}}}();